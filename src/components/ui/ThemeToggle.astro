<button
  id="theme-toggle"
  aria-label="Toggle dark mode"
  class="flex items-center cursor-pointer"
>
  <span id="theme-icon" class="material-symbols-outlined">sunny</span>
</button>

<script is:inline>
  (function () {
    const updateIcon = (theme) => {
      const icon = document.getElementById("theme-icon");
      if (icon) {
        icon.textContent = theme === "dark" ? "sunny" : "dark_mode";
      }
    };

    const setTheme = (theme) => {
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      updateIcon(theme);
    };

    const currentTheme = document.documentElement.getAttribute("data-theme");
    updateIcon(currentTheme);

    document.getElementById("theme-toggle")?.addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme");
      setTheme(current === "dark" ? "light" : "dark");
    });
  })();
</script>
