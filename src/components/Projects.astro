---
import Layout from "@/layouts/Layout.astro";
import ProjectCard from "@/components/ProjectCard.astro";
import { getCollection } from "astro:content";
import Link from "./ui/Link.astro";

type Props = {
  limit?: number;
};

const projects = await getCollection("projects");

const { limit } = Astro.props;
---

<div
  class="flex flex-wrap items-center justify-center gap-6 px-4 w-full mx-auto"
>
  {
    projects
      .slice(0, limit)
      .map((project) => <ProjectCard key={project.id} project={project} />)
  }
</div>
{limit && <Link href="/projects">View all projects</Link>}
